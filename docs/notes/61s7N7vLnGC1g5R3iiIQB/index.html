<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Continuous Integration and Continuous Deployment</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="Continuous Integration and Continuous Deployment"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://sameep1234.github.io/notes/notes/61s7N7vLnGC1g5R3iiIQB/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="12/9/2021"/><meta property="article:modified_time" content="12/9/2021"/><link rel="canonical" href="https://sameep1234.github.io/notes/notes/61s7N7vLnGC1g5R3iiIQB/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/notes/_next/static/css/7e214f857c68f074.css" as="style"/><link rel="stylesheet" href="/notes/_next/static/css/7e214f857c68f074.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/notes/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/notes/_next/static/chunks/webpack-8d77f7036353139e.js" defer=""></script><script src="/notes/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/notes/_next/static/chunks/main-0d50381774b20f5a.js" defer=""></script><script src="/notes/_next/static/chunks/pages/_app-e5767d896f1f1111.js" defer=""></script><script src="/notes/_next/static/chunks/155-3a6c02d7e042edb7.js" defer=""></script><script src="/notes/_next/static/chunks/pages/notes/%5Bid%5D-dc9b1cbe134a7143.js" defer=""></script><script src="/notes/_next/static/EfAyzwfT4p8FbHWq2rGYl/_buildManifest.js" defer=""></script><script src="/notes/_next/static/EfAyzwfT4p8FbHWq2rGYl/_ssgManifest.js" defer=""></script><script src="/notes/_next/static/EfAyzwfT4p8FbHWq2rGYl/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="continuous-integration-and-continuous-deployment"><a aria-hidden="true" class="anchor-heading" href="#continuous-integration-and-continuous-deployment"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Continuous Integration and Continuous Deployment</h1>
<h2 id="using-github-actions"><a aria-hidden="true" class="anchor-heading" href="#using-github-actions"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Using Github actions</h2>
<h3 id="continuous-integrations-ci"><a aria-hidden="true" class="anchor-heading" href="#continuous-integrations-ci"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Continuous Integrations (CI)</h3>
<ul>
<li>DevOps software development practice to automate the integration of code changs from multiple contributors into a single software project.</li>
<li>In simple terms, CI helps to build your code as soon as it is pushed into the branch where CI workflow is defined.</li>
<li>This way we don't have to manually build and check for errors in the code. It would all be automated and done by github actions.</li>
<li>Steps
<ul>
<li>Go to github actions tab on the site.</li>
<li>Click create new workflow.</li>
<li>Under the continuous integration workflows, click more  continuous integration workflows.</li>
<li>Select the <strong>Python application</strong> and click set up this workflow.
<ul>
<li>name: Self-explanatory</li>
<li>on: when do you want to trigger the scripts</li>
<li>push: Implies that the scripts will trigger on push</li>
<li>branches: On which branch shall the "event" (push, pull etc) occur, so as to trigger CI workflow.</li>
<li>jobs: <strong>Most important part.</strong></li>
<li>build: We specify whether we are building or deploying (write deploy instead of build to let it know that its a deploy script)</li>
<li>runs-on: Remote desktop offered by <strong>github.</strong></li>
<li>steps: Self-explanatory</li>
<li>uses: preferable keep it actions/checkout@v2. It implies that we are just building and not deploying. For deploying we will need to "ssh" into the server and hence we will need to change this.</li>
<li>name: name of the script</li>
<li>uses: Since, we selected python, keep it as it is.</li>
<li>with: Specify the version, for us it would be a python version.</li>
<li>run: Here write the script for building your project
<pre class="language-bash"><code class="language-bash">pip <span class="token function">install</span> flake8
pip <span class="token function">install</span> pytest
<span class="token builtin class-name">cd</span> frontend
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run build
</code></pre>
</li>
<li>The above script builds our react frontend project.</li>
<li>flake8 is a python library to check coding styles and warnings including some imported libraries that are unused and undefined names etc.</li>
<li>For information on pytest follow this <a href="https://realpython.com/pytest-python-testing/">link</a></li>
<li>Initially pytest will give an error and hence it would be better to comment it. This bug is yet to be fixed.</li>
<li>Commit the file and your CI is ready to go!</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>Check for errors in the details section and resolve any that is encountered.</p>
</blockquote>
<h3 id="continuous-deployment-cd"><a aria-hidden="true" class="anchor-heading" href="#continuous-deployment-cd"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Continuous Deployment (CD)</h3>
<ul>
<li>It is a software release process that uses automated testing to validate any changes and deploys it to the server.</li>
<li>Simply put, after CI, it deploys your code to the production environment automatically.</li>
</ul>
<blockquote>
<p>There are two ways to acheive this. One, to accomodate the code in the CI.yml file itself and the other is to create a whole new file for increasing modularity.</p>
<ul>
<li>We have done the second approach.</li>
<li>For the first one, copy the build code written above and instead of build (under jobs), write deploy and then write the code as per the below steps.</li>
</ul>
</blockquote>
<ul>
<li>Steps
<ul>
<li>Go to actions tab on the site.</li>
<li>Click create new workflow.</li>
<li>Click on <strong>create a workflow yourself.</strong></li>
<li>Most of the code remains the same as that in CI.</li>
<li>Under jobs, replace build with deploy.</li>
<li>Delete the <strong>workflow_dispatch</strong> code.</li>
<li>Further, delete the <strong>uses section and single command code</strong> under <strong>steps</strong>.</li>
<li>By now, you will only be left with one multi-line script under <strong>steps</strong>.</li>
<li>Replace the <strong>name</strong> with anything relavant.</li>
<li>Then type the following without any tabs or indentation. <strong>Note that the following should be exactly below name and without a hypen (-)</strong>
<ul>
<li>uses: appleboy/ssh-action@master</li>
<li>This allows github to "ssh" into our server.</li>
</ul>
</li>
<li>Now open a terminal in your <strong>local machine</strong> and type the following command.
<ul>
<li>
<pre class="language-bash"><code class="language-bash">    ssh-keygen -C <span class="token operator">&#x3C;</span>EMAILID<span class="token operator">></span>
</code></pre>
</li>
<li>Make sure to replace <emailid> with radio's email ID.</emailid></li>
<li>This will create a new public and private key.</li>
</ul>
</li>
<li>Then, go to the settings of the repository.</li>
<li>Left hand side, click on secrets and then click on new repository secret.</li>
<li>Provide your newly created <strong>private key</strong> and name it anything relevant.</li>
<li>Now "ssh" into the server and under .ssh/authorized_keys, place the newly created <strong>public key</strong> in it.</li>
<li>Now go back on github site and add the with section shown in the below image. Make sure it is exactly the same except changing the secrets name accoring to what you have added in github secrets.</li>
<li><img src="/notes/assets/images/2021-09-12-18-19-36.png"></li>
<li><strong>Make sure that you change the secrets with your respective server.</strong></li>
<li>With the same indentation as that of host, key etc. write script for deployment.</li>
<li>script: |
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> stepwellradio
<span class="token function">git</span> pull https://<span class="token operator">&#x3C;</span>YOUR_USERNAME<span class="token operator">></span>:<span class="token operator">&#x3C;</span>PERSONAL ACCESS TOKEN<span class="token operator">></span>@github.com/<span class="token operator">&#x3C;</span>USERNAME<span class="token operator">></span><span class="token operator">&#x3C;</span>REPO_NAME<span class="token operator">></span>.git
python -m pip <span class="token function">install</span> --upgrade pip
pip <span class="token function">install</span> flake8 pytest
<span class="token keyword">if</span> <span class="token punctuation">[</span> -f requirements.txt <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> pip <span class="token function">install</span> -r requirements.txt<span class="token punctuation">;</span> <span class="token keyword">fi</span>
<span class="token builtin class-name">cd</span> frontend
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token builtin class-name">cd</span> backend
python manage.py collectstatic
<span class="token builtin class-name">echo</span> <span class="token string">"Deployed Successfully"</span>
</code></pre>
</li>
<li>Once it is done, you are good to go.</li>
<li>Check details of guthub actions to make sure that there aren't any errors during the deployment.</li>
<li>Some potential errors
<ul>
<li>python, pip, nodejs and npm not installed.</li>
<li>So make sure that these are installed on the server.</li>
<li><strong>Note that these errors are just for first time set up of the server and hence the commands that are needed to install these need not be placed under the scripts.</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>There are certain errors that are yet to be resolved like deploy should happen after build returns exit code 0 and some python virtual environment related issues.</p>
</blockquote></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#using-github-actions" title="Using Github actions">Using Github actions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#continuous-integrations-ci" title="Continuous Integrations (CI)">Continuous Integrations (CI)</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#continuous-deployment-cd" title="Continuous Deployment (CD)">Continuous Deployment (CD)</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"61s7N7vLnGC1g5R3iiIQB","title":"Continuous Integration and Continuous Deployment","desc":"","updated":1631450977498,"created":1631439712234,"custom":{},"fname":"Stepwellradio.Steptech.Continuous Integration and Continuous Deployment","type":"note","vault":{"fsPath":"vault"},"contentHash":"31793f3f54614170950215e8b0c2e160","links":[],"anchors":{"using-github-actions":{"type":"header","text":"Using Github actions","value":"using-github-actions","line":11,"column":0,"depth":2},"continuous-integrations-ci":{"type":"header","text":"Continuous Integrations (CI)","value":"continuous-integrations-ci","line":13,"column":0,"depth":3},"continuous-deployment-cd":{"type":"header","text":"Continuous Deployment (CD)","value":"continuous-deployment-cd","line":50,"column":0,"depth":3}},"children":[],"parent":"xm1zwK8k3nHvutw0hqXhh","data":{}},"body":"\u003ch1 id=\"continuous-integration-and-continuous-deployment\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#continuous-integration-and-continuous-deployment\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eContinuous Integration and Continuous Deployment\u003c/h1\u003e\n\u003ch2 id=\"using-github-actions\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#using-github-actions\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eUsing Github actions\u003c/h2\u003e\n\u003ch3 id=\"continuous-integrations-ci\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#continuous-integrations-ci\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eContinuous Integrations (CI)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eDevOps software development practice to automate the integration of code changs from multiple contributors into a single software project.\u003c/li\u003e\n\u003cli\u003eIn simple terms, CI helps to build your code as soon as it is pushed into the branch where CI workflow is defined.\u003c/li\u003e\n\u003cli\u003eThis way we don't have to manually build and check for errors in the code. It would all be automated and done by github actions.\u003c/li\u003e\n\u003cli\u003eSteps\n\u003cul\u003e\n\u003cli\u003eGo to github actions tab on the site.\u003c/li\u003e\n\u003cli\u003eClick create new workflow.\u003c/li\u003e\n\u003cli\u003eUnder the continuous integration workflows, click more  continuous integration workflows.\u003c/li\u003e\n\u003cli\u003eSelect the \u003cstrong\u003ePython application\u003c/strong\u003e and click set up this workflow.\n\u003cul\u003e\n\u003cli\u003ename: Self-explanatory\u003c/li\u003e\n\u003cli\u003eon: when do you want to trigger the scripts\u003c/li\u003e\n\u003cli\u003epush: Implies that the scripts will trigger on push\u003c/li\u003e\n\u003cli\u003ebranches: On which branch shall the \"event\" (push, pull etc) occur, so as to trigger CI workflow.\u003c/li\u003e\n\u003cli\u003ejobs: \u003cstrong\u003eMost important part.\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003ebuild: We specify whether we are building or deploying (write deploy instead of build to let it know that its a deploy script)\u003c/li\u003e\n\u003cli\u003eruns-on: Remote desktop offered by \u003cstrong\u003egithub.\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003esteps: Self-explanatory\u003c/li\u003e\n\u003cli\u003euses: preferable keep it actions/checkout@v2. It implies that we are just building and not deploying. For deploying we will need to \"ssh\" into the server and hence we will need to change this.\u003c/li\u003e\n\u003cli\u003ename: name of the script\u003c/li\u003e\n\u003cli\u003euses: Since, we selected python, keep it as it is.\u003c/li\u003e\n\u003cli\u003ewith: Specify the version, for us it would be a python version.\u003c/li\u003e\n\u003cli\u003erun: Here write the script for building your project\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003epip \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e flake8\npip \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e pytest\n\u003cspan class=\"token builtin class-name\"\u003ecd\u003c/span\u003e frontend\n\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e\n\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run build\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003eThe above script builds our react frontend project.\u003c/li\u003e\n\u003cli\u003eflake8 is a python library to check coding styles and warnings including some imported libraries that are unused and undefined names etc.\u003c/li\u003e\n\u003cli\u003eFor information on pytest follow this \u003ca href=\"https://realpython.com/pytest-python-testing/\"\u003elink\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eInitially pytest will give an error and hence it would be better to comment it. This bug is yet to be fixed.\u003c/li\u003e\n\u003cli\u003eCommit the file and your CI is ready to go!\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCheck for errors in the details section and resolve any that is encountered.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"continuous-deployment-cd\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#continuous-deployment-cd\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eContinuous Deployment (CD)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eIt is a software release process that uses automated testing to validate any changes and deploys it to the server.\u003c/li\u003e\n\u003cli\u003eSimply put, after CI, it deploys your code to the production environment automatically.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThere are two ways to acheive this. One, to accomodate the code in the CI.yml file itself and the other is to create a whole new file for increasing modularity.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWe have done the second approach.\u003c/li\u003e\n\u003cli\u003eFor the first one, copy the build code written above and instead of build (under jobs), write deploy and then write the code as per the below steps.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003eSteps\n\u003cul\u003e\n\u003cli\u003eGo to actions tab on the site.\u003c/li\u003e\n\u003cli\u003eClick create new workflow.\u003c/li\u003e\n\u003cli\u003eClick on \u003cstrong\u003ecreate a workflow yourself.\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eMost of the code remains the same as that in CI.\u003c/li\u003e\n\u003cli\u003eUnder jobs, replace build with deploy.\u003c/li\u003e\n\u003cli\u003eDelete the \u003cstrong\u003eworkflow_dispatch\u003c/strong\u003e code.\u003c/li\u003e\n\u003cli\u003eFurther, delete the \u003cstrong\u003euses section and single command code\u003c/strong\u003e under \u003cstrong\u003esteps\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eBy now, you will only be left with one multi-line script under \u003cstrong\u003esteps\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eReplace the \u003cstrong\u003ename\u003c/strong\u003e with anything relavant.\u003c/li\u003e\n\u003cli\u003eThen type the following without any tabs or indentation. \u003cstrong\u003eNote that the following should be exactly below name and without a hypen (-)\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003euses: appleboy/ssh-action@master\u003c/li\u003e\n\u003cli\u003eThis allows github to \"ssh\" into our server.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eNow open a terminal in your \u003cstrong\u003elocal machine\u003c/strong\u003e and type the following command.\n\u003cul\u003e\n\u003cli\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e    ssh-keygen -C \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eEMAILID\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003eMake sure to replace \u003cemailid\u003e with radio's email ID.\u003c/emailid\u003e\u003c/li\u003e\n\u003cli\u003eThis will create a new public and private key.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThen, go to the settings of the repository.\u003c/li\u003e\n\u003cli\u003eLeft hand side, click on secrets and then click on new repository secret.\u003c/li\u003e\n\u003cli\u003eProvide your newly created \u003cstrong\u003eprivate key\u003c/strong\u003e and name it anything relevant.\u003c/li\u003e\n\u003cli\u003eNow \"ssh\" into the server and under .ssh/authorized_keys, place the newly created \u003cstrong\u003epublic key\u003c/strong\u003e in it.\u003c/li\u003e\n\u003cli\u003eNow go back on github site and add the with section shown in the below image. Make sure it is exactly the same except changing the secrets name accoring to what you have added in github secrets.\u003c/li\u003e\n\u003cli\u003e\u003cimg src=\"/notes/assets/images/2021-09-12-18-19-36.png\"\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMake sure that you change the secrets with your respective server.\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eWith the same indentation as that of host, key etc. write script for deployment.\u003c/li\u003e\n\u003cli\u003escript: |\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token builtin class-name\"\u003ecd\u003c/span\u003e stepwellradio\n\u003cspan class=\"token function\"\u003egit\u003c/span\u003e pull https://\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eYOUR_USERNAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e:\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePERSONAL ACCESS TOKEN\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e@github.com/\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eUSERNAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eREPO_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e.git\npython -m pip \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e --upgrade pip\npip \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e flake8 pytest\n\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e -f requirements.txt \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethen\u003c/span\u003e pip \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e -r requirements.txt\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efi\u003c/span\u003e\n\u003cspan class=\"token builtin class-name\"\u003ecd\u003c/span\u003e frontend\n\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e\n\u003cspan class=\"token builtin class-name\"\u003ecd\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e\n\u003cspan class=\"token builtin class-name\"\u003ecd\u003c/span\u003e backend\npython manage.py collectstatic\n\u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Deployed Successfully\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003eOnce it is done, you are good to go.\u003c/li\u003e\n\u003cli\u003eCheck details of guthub actions to make sure that there aren't any errors during the deployment.\u003c/li\u003e\n\u003cli\u003eSome potential errors\n\u003cul\u003e\n\u003cli\u003epython, pip, nodejs and npm not installed.\u003c/li\u003e\n\u003cli\u003eSo make sure that these are installed on the server.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eNote that these errors are just for first time set up of the server and hence the commands that are needed to install these need not be placed under the scripts.\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThere are certain errors that are yet to be resolved like deploy should happen after build returns exit code 0 and some python virtual environment related issues.\u003c/p\u003e\n\u003c/blockquote\u003e","noteIndex":{"id":"GL4YoVrbDUHLnf946YtXV","title":"Curated Notes","desc":"","updated":1630150480330,"created":1629975412335,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"59326d3738fbbdf94df0792937dea389","links":[],"anchors":{},"children":["3ONxZ3Khb7nFPdLxlV1ib","Jq5ki9jf1QLTdc3DYLRW4","t5S98zYhQcXKMjbqBsVGg","Z2JlSyF7TPv3hFanVQhJd"],"parent":null,"data":{},"body":"\n\n\nYou have reached the home page of my curated notes. I am a third year student pursuing Computer Science and Engineering at Ahmedabad University.\n\nFeel free to use this resource to its best potential and reach out to me on [Linkedin](https://www.linkedin.com/in/sameep-vani/) and do checkout my [GitHub](https://github.com/Sameep1234)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"dev":{"enablePreviewV2":true},"version":5,"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"vaultSelectionModeOnCreate":"smart","fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.100.0","vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journalc","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableUserTags":true,"enableHashTags":true,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableHandlebarTemplates":true,"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/notes","copyAssets":true,"ga":{"tracking":"G-VZ67P3SVZE"},"logoPath":"vault/logo.gif","siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://sameep1234.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"Sameep","description":"Personal knowledge space","author":"Sameep"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"61s7N7vLnGC1g5R3iiIQB"},"buildId":"EfAyzwfT4p8FbHWq2rGYl","assetPrefix":"/notes","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>