<h1 id="lcds"><a aria-hidden="true" class="anchor-heading" href="#lcds"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>LCD's</h1>
<h2 id="7-segment-led-lcd-and"><a aria-hidden="true" class="anchor-heading" href="#7-segment-led-lcd-and"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>7 Segment LED, LCD and</h2>
<h2 id="extra-points"><a aria-hidden="true" class="anchor-heading" href="#extra-points"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Extra Points</h2>
<ul>
<li>In 7 segment LED, we can connect any port to any LED pin. All you need to take care is of the code that you are passing.</li>
</ul>
<blockquote>
<p><img src="/notes/assets/images/2021-10-18-11-18-49.png"></p>
</blockquote>
<pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&#x3C;avr/io.h></span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    DDRA <span class="token operator">=</span> DDRB <span class="token operator">=</span> <span class="token number">0xFF</span><span class="token punctuation">;</span> <span class="token comment">// Common Cathode PORTA output</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        PORTA <span class="token operator">=</span> <span class="token number">0x77</span><span class="token punctuation">;</span> <span class="token comment">// Display A</span>
        PORTB<span class="token punctuation">.</span>b0 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// Enable pin</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p><img src="/notes/assets/images/2021-10-18-11-28-58.png"></p>
</blockquote>
<pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&#x3C;avr/io.h></span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    DDRA <span class="token operator">=</span> DDRB <span class="token operator">=</span> <span class="token number">0xFF</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0x90</span><span class="token punctuation">,</span> <span class="token number">0x80</span><span class="token punctuation">,</span> <span class="token number">0xF8</span><span class="token punctuation">,</span> <span class="token number">0x82</span><span class="token punctuation">,</span> <span class="token number">0x92</span><span class="token punctuation">,</span> <span class="token number">0x99</span><span class="token punctuation">,</span> <span class="token number">0xB0</span><span class="token punctuation">,</span> <span class="token number">0xA4</span><span class="token punctuation">,</span> <span class="token number">0xF9</span><span class="token punctuation">,</span> <span class="token number">0xC0</span><span class="token punctuation">}</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        PORTB<span class="token punctuation">.</span>b0 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&#x3C;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            PORTA <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="lcds-1"><a aria-hidden="true" class="anchor-heading" href="#lcds-1"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>LCD's</h2>
<ul>
<li>Pin Position
<ul>
<li><img src="/notes/assets/images/2021-10-18-11-46-36.png"></li>
</ul>
</li>
<li>Connections with AVR
<ul>
<li><img src="/notes/assets/images/2021-10-18-11-47-39.png"></li>
</ul>
</li>
<li>Internal Components
<ul>
<li><img src="/notes/assets/images/2021-10-18-11-49-03.png"></li>
</ul>
</li>
<li>Some important pins information
<ul>
<li><img src="/notes/assets/images/2021-10-18-11-50-21.png"></li>
</ul>
</li>
<li>Pin5 - R/W (Read/Write)
<ul>
<li>0 means write and 1 means read</li>
</ul>
</li>
<li>Pin6 - Enable
<ul>
<li>High to low means latch the data.</li>
<li>Mimimum pulse width 450ns</li>
</ul>
</li>
<li>Pin7 - OR DB7
<ul>
<li>1 means LCD not ready to accept new information and is performing some internal operation and 0 means LCD ready to receive new information.</li>
</ul>
</li>
</ul>
<ul>
<li>4 bit connections
<ul>
<li><img src="/notes/assets/images/2021-11-03-16-55-42.png"></li>
</ul>
</li>
</ul>
<ul>
<li>C program declaration
<ul>
<li><img src="/notes/assets/images/2021-10-18-11-54-05.png"></li>
</ul>
<ul>
<li>These include all the header files required.</li>
<li>It also includes some standard defined PORTs which obviously can be modified but these are what is followed in textbook.</li>
</ul>
</li>
<li>C program for LCD Commands
<ul>
<li><img src="/notes/assets/images/2021-10-18-11-56-02.png"></li>
</ul>
<ul>
<li>This function will send the command to lcd.</li>
<li>The list of commands can be obtained from below.</li>
</ul>
</li>
<li>Table for lcd commands
<ul>
<li><img src="/notes/assets/images/2021-10-18-11-57-33.png"></li>
</ul>
</li>
</ul>
<ul>
<li>C program for LCD Data
<ul>
<li><img src="/notes/assets/images/2021-11-25-19-10-07.png"></li>
</ul>
</li>
<li>C program for lcd initialization
<ul>
<li><img src="/notes/assets/images/2021-11-03-17-01-18.png"></li>
</ul>
</li>
<li>C program lcd gotoxy function
<ul>
<li><img src="/notes/assets/images/2021-11-03-17-03-01.png"></li>
</ul>
</li>
<li>C program lcd print
<ul>
<li><img src="/notes/assets/images/2021-11-03-17-03-35.png"></li>
</ul>
</li>
<li>C program main function for lcd
<ul>
<li><img src="/notes/assets/images/2021-11-03-17-02-23.png"></li>
</ul>
</li>
</ul>
<h2 id="4x4-key-board"><a aria-hidden="true" class="anchor-heading" href="#4x4-key-board"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>4X4 Key Board</h2>
<ul>
<li><img src="/notes/assets/images/2021-11-03-17-04-40.png"></li>
<li>Identify which key is pressed
<ul>
<li><img src="/notes/assets/images/2021-11-03-17-05-47.png"></li>
<li>It is 2.</li>
<li>We are putting logic 0 in row 0 and we are reading logic 0 in column 2. Thus, by intersection, we can say that key 2 was pressed.</li>
<li>Note that here we are reading the column that is the input and rows are the output that we get.</li>
</ul>
</li>
<li>Steps
<ul>
<li>Check to see preceding key is released of not.</li>
<li>This means check whether all rows are 1.</li>
<li>Next scan all columns in infinite loop.</li>
<li>If any key press is detected, wait for 20 ms.</li>
<li>This removes the spike/noise and avoids multiple key press interpretation for a key.</li>
<li>To detect the pressed key, ground one row at a time and read the column.</li>
<li>Lastly, upon finding the row, use look-up table to find its ASCII Code.</li>
</ul>
</li>
</ul>